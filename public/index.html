<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="styles.css">
    <title>Productos</title>
  </head>
  <body>
    <h1>Productos</h1>
    <table style="border-collapse: collapse; width: 100%;" id="productos">
      <thead>
        <tr style="background-color: #f5f5f5;">
          <th style="padding: 8px; border-bottom: 1px solid #ddd;">ID</th>
          <th style="padding: 8px; border-bottom: 1px solid #ddd;">Title</th>
          <th style="padding: 8px; border-bottom: 1px solid #ddd;">Description</th>
          <th style="padding: 8px; border-bottom: 1px solid #ddd;">Price</th>
          <th style="padding: 8px; border-bottom: 1px solid #ddd;">Thumbnail</th>
        </tr>
      </thead>
      <tbody>
        <!-- Productos -->
      </tbody>
    </table>
    <script>
      async function getProducts() {
        const response = await fetch('/api/products');
        const products = await response.json();
        console.log(products); // asegurarse de que los datos se reciben correctamente
        const tableBody = document.querySelector('#productos tbody');
        products.forEach(product => {
          console.log(product); // asegurarse de que cada producto tenga las propiedades necesarias
          const row = document.createElement('tr');
          row.innerHTML = `
            <td>${product.id}</td>
            <td>${product.titulo}</td>
            <td>${product.descripcion}</td>
            <td>${product.precio}</td>
            <td><img src="${product.thumbnail}" alt="${product.titulo}" width="50"></td>
          `;
          tableBody.appendChild(row);
        });
      }

      getProducts();
    </script>
  </body>
</html>
